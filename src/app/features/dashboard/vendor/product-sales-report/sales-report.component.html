<div class="row p-2 d-flex justify-content-center align-items-center">
  <div class="col-6 flex-end">
    <app-datepicker></app-datepicker>
  </div>
  <div class="col-2">
    <button class="btn btn-primary" (click)="getReport()">View Report</button>
  </div>
</div>
<div *ngIf=" productSalesReport && productSalesReport.length!=0; else dataNotFound" class="card card-body table-responsive">
  <table class="table table-hover align-middle">
    <thead>
      <tr>
        <th scope="col">S.No</th>
        <th scope="col">Product Name</th>
        <th scope="col">Quantity</th>
        <th scope="col">Rate</th>
        <th scope="col">Sub Total</th>
        <th scope="col">Discount</th>
        <th scope="col">Tax</th>
        <th scope="col">Total</th>
        <th scope="col">Purchase Date</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let productSale of productSalesReport; index as sn">
        <th scope="row">{{productSale.id}}</th>
        <th scope="row">{{productSale.productName}}</th>
        <th scope="row">{{productSale.quantity}}</th>
        <th scope="row">{{productSale.rate}}</th>
        <th scope="row">{{productSale.subTotal}}</th>
        <th scope="row">{{productSale.discount}}</th>
        <th scope="row">{{productSale.tax}}</th>
        <th scope="row">{{productSale.total}}</th>
        <th scope="row">{{productSale.purchaseDate}}</th>
      </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-between p-2">
    <ngb-pagination
      [collectionSize]="collectionSize"
      [(page)]="page"
      [pageSize]="pageSize"
      (pageChange)="refreshData()"
    >
    </ngb-pagination>

    <select class="form-select pt-0 pb-0" style="width: auto; height: 2.5rem;" [(ngModel)]="pageSize" (ngModelChange)="refreshData()">
      <option [ngValue]="10">10</option>
      <option [ngValue]="50">50</option>
      <option [ngValue]="100">100</option>
    </select>
  </div>
</div>
<ng-template #dataNotFound>
  <div class="card text-center">
    <div class="card-body" style="color: red">
      <h1><i class="bi bi-exclamation-triangle-fill"></i></h1>
      <h5 class="card-title">Data Not Found</h5>
    </div>
  </div>
</ng-template>
